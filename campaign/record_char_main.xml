<?xml version="1.0" encoding="iso-8859-1"?>

<!-- Please see the LICENSE.md file included with this distribution for attribution and copyright information. -->

<root>
	<windowclass name="charsheet_main" merge="join">
		<sheetdata>
			<number_dropadd name="hp" source="hp.total">
				<anchored to="hpframe" position="insidetopleft" offset="20,27" width="40" height="28" />
				<description textres="char_label_hptotal" />
				<readonly />
				<script>
					function onValueChanged()
						window.onHealthChanged()
					end
				</script>
			</number_dropadd>
			
			<number_dropadd name="hptemp" source="hp.temporary">
				<anchored to="hp" position="right" offset="12,0" width="40" />
				<color>0000AA</color>
				<hideonvalue>0</hideonvalue>
				<description textres="char_tooltip_hptemp" />
				<script>
					function onValueChanged()
						window.onHealthChanged();
					end
				</script>
			</number_dropadd>
						
			<number_dropadd name="hdhp" source="hp.hdhp">
				<anchored to="hptemp" position="right" offset="12,0" width="40"/>
				<description textres="char_tooltip_hdhp" />
				<tabtarget next="hptemp" />
			</number_dropadd>
			<label_fieldtop name="hdhp_label">
				<anchored to="hdhp" />
				<static textres="char_label_hdhp" />
			</label_fieldtop>
			
			<number_dropadd name="bonushp" source="hp.bonushp">
				<anchored to="hptemp" position="right" offset="64,0" width="40"/>
				<description textres="char_tooltip_bonushp" />
				<displaysign />
				<readonly />
				<delaykeyupdate />
			</number_dropadd>
			<label_fieldtop name="bonushp_label">
				<anchored to="bonushp" />
				<static textres="char_label_bonushp" />
			</label_fieldtop>
			
			<cycler_ability name="stat" source="hp.statused">
				<anchored width="24">
					<top parent="bonushp" anchor="top" offset="4" />
					<left parent="bonushp" anchor="right" offset="12" />
				</anchored>
				<parameters>
					<defaultlabelres>con</defaultlabelres>
					<labelsres>int|wis|cha|str|dex</labelsres>
				</parameters>
				<script>
					function onValueChanged()
						DB.setValue(window.getDatabaseNode(), 'hp.statused', 'string', string.upper(getValue()))
					end
				</script>
			</cycler_ability>
			<label_fieldtop name="statused_label">
				<anchored to="stat" />
				<static textres="char_label_statused" />
			</label_fieldtop>
			
			<number_charwounds name="wounds" source="hp.wounds">
				<anchored to="hpframe" position="insidetopright" offset="72,27" width="40" height="28" />
				<description textres="char_tooltip_wounds" />
			</number_charwounds>
			
			<number_dropadd name="nonlethal" source="hp.nonlethal">
				<anchored to="wounds" position="right" offset="12,0" width="40" />
				<hideonvalue>0</hideonvalue>
				<description textres="char_tooltip_nonlethal" />
				<script>
					function onValueChanged()
						window.onHealthChanged()
					end
				</script>
			</number_dropadd>
		</sheetdata>
	</windowclass>
</root>