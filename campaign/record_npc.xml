<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="npc_combat_creature" merge="join">
		<margins control="0,0,0,2" />
		<script file="campaign/scripts/npc_main.lua" />
		<sheetdata>
			<anchor_column name="columnanchor" />
			
			<label_column name="hd_label">
				<static textres="npc_label_hd" />
			</label_column>
			<string_columnh name="hd">
				<tabtarget next="hdhp" />
			</string_columnh>

			<label_column name="hp_label">
				<anchored>
					<top offset="16" />
				</anchored>
				<static textres="hp" />
			</label_column>
			<number_column name="hp">
				<anchored width="50" height="20">
					<top parent="columnanchor" anchor="bottom" relation="relative" offset="16" />
					<left offset="97" />
				</anchored>
			</number_column>
			<label_fieldtop name="totalhp_label">
				<anchored to="hp" />
				<static textres="npc_label_totalhp" />
			</label_fieldtop>
						
			<number_dropadd name="hdhp" source="hpfromhd">
				<anchored to="hp" position="right" offset="10,0" width="50"/>
				<description textres="char_tooltip_hdhp" />
				<tabtarget next="fortitudesave" />
			</number_dropadd>
			<label_fieldtop name="hdhp_label">
				<anchored to="hdhp" />
				<static textres="char_label_hdhp" />
			</label_fieldtop>
			
			<number_dropadd name="bonushp" source="hpfromabil">
				<anchored to="hdhp" position="right" offset="10,0" width="50"/>
				<description textres="npc_tooltip_bonushp" />
				<displaysign />
				<readonly />
				<delaykeyupdate />
				<script file="campaign/scripts/setlivehpctvisibility.lua"/>
			</number_dropadd>
			<label_fieldtop name="bonushp_label">
				<anchored to="bonushp" />
				<static textres="char_label_bonushp" />
			</label_fieldtop>
			
			<number_dropadd name="bonushpbak" source="hpfromabilbak">
				<anchored to="bonushp" position="right" offset="10,0" width="50"/>
				<readonly />
				<invisible />
			</number_dropadd>
			
			<cycler_ability name="stat">
				<anchored to="bonushp" position="righthigh" offset="10,0" width="24" />
				<baseability>constitution</baseability>
				<source><name>hpabilused</name></source>
				<script>
					function onValueChanged()
						DB.setValue(window.getDatabaseNode(), 'hpabilused', 'string', string.upper(getValue()))
					end
				</script>
			</cycler_ability>
			<label_fieldtop name="abilused_label">
				<anchored to="stat" />
				<static textres="char_label_statused" />
			</label_fieldtop>
		</sheetdata>
	</windowclass>
</root>